<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galeria: As Nossas Mem√≥rias</title>

    <link rel="shortcut icon" href="img/velaris-removebg-preview.png" type="image/x-icon">

    <link rel="stylesheet" href="css/global.css">

    <link rel="stylesheet" href="css/style_galeria.css">
</head>

<body>

     <div id="contador-tempo">
        <span>O Nosso Tempo Juntos Desde sua Volta</span>
        <span id="tempo-decorrido">A calcular...</span>
    </div>

    <div id="contador-vida">
        <span>Desde o Nosso Primeiro Encontro <br></span>
        <span id="tempo-vida-decorrido">A calcular...</span>
    </div>

    <div class="main-content-wrapper">

        <script>
            // --- DADOS DE IN√çCIO (CORRETOS) ---
            const DATA_INICIO_PROJETO = new Date(2025, 9, 17, 22, 0, 0);
            const DATA_PRIMEIRO_ENCONTRO = new Date(2021, 7, 14, 9, 10, 0);

            // --- ELEMENTOS HTML (CORRETOS) ---
            const elementoTempoProjeto = document.getElementById('tempo-decorrido');
            const elementoTempoEncontro = document.getElementById('tempo-vida-decorrido'); // Renomeado para clareza

            function formatarTempo(diferencaMs) {
                // Fun√ß√µes de formata√ß√£o: Recebe milissegundos e devolve a string formatada
                const segundos = Math.floor(diferencaMs / 1000);
                const minutos = Math.floor(segundos / 60);
                const horas = Math.floor(minutos / 60);
                const dias = Math.floor(horas / 24);

                const anos = Math.floor(dias / 365.25);
                const meses = Math.floor(dias / 30.44);

                return `${anos} anos, ` +
                    `${meses % 12} meses, ` +
                    `${dias % 30} dias, ` +
                    `${horas % 24}h, ` +
                    `${minutos % 60}m, ` +
                    `${segundos % 60}s`;
            }

            // FUN√á√ÉO PRINCIPAL QUE ATUALIZA AMBOS OS CONTADORES
            function atualizarContadores() {
                const agora = new Date();

                // 1. C√ÅLCULO E ATRIBUI√á√ÉO DO TEMPO DO PROJETO (J√Å EXISTENTE)
                const diferencaProjetoMs = agora.getTime() - DATA_INICIO_PROJETO.getTime();
                const tempoProjetoFormatado = formatarTempo(diferencaProjetoMs);
                elementoTempoProjeto.textContent = tempoProjetoFormatado;

                // 2. üö® NOVO C√ÅLCULO E ATRIBUI√á√ÉO: TEMPO DO ENCONTRO üö®
                const diferencaEncontroMs = agora.getTime() - DATA_PRIMEIRO_ENCONTRO.getTime();
                const tempoEncontroFormatado = formatarTempo(diferencaEncontroMs);
                elementoTempoEncontro.textContent = tempoEncontroFormatado; // Atribui ao elemento correto!
            }

            // Inicializa e atualiza a cada segundo
            atualizarContadores();
            setInterval(atualizarContadores, 1000);

            // --- C√ìDIGO DO BOT√ÉO TRANCAR (Permanece para o Logout) ---
            document.addEventListener('DOMContentLoaded', function () {
                const botaoTrancar = document.getElementById('trancar-segredos');

                if (botaoTrancar) {
                    botaoTrancar.addEventListener('click', function (event) {
                        event.preventDefault();
                        localStorage.clear();
                        window.location.href = "index.html";
                    });
                }
            });
        </script>

        <div class="main-content-wrapper">

            <div class="container-romance">

                <header>
                    <h1>üì∏ A Nossa Galeria de Momentos</h1>
                    <p class="subtitulo-galeria">Um olhar sobre as mem√≥rias que mais amamos partilhar.</p>
                </header>

                <section class="galeria-fotos">

                    <div class="foto-item">
                        <img src="img/Screenshot_20251021-211719.Instagram~2.png" alt="Descri√ß√£o da foto 1">
                        <p class="legenda">Admirei tanto, que descidi eternizar, vai que voc√™ descide dar sumi√ßo.</p>
                    </div>

                    <div class="foto-item">
                        <img src="img/Screenshot_20251021-211347.Instagram~2.png" alt="Descri√ß√£o da foto 2">
                        <p class="legenda">O Descobrimento de uma das melhores pessoas que poderiam passar em minha
                            vida.</p>
                    </div>

                    <div class="foto-item">
                        <img src="img/Screenshot_20251021-211803.Instagram~2.png" alt="Descri√ß√£o da foto 2">
                        <p class="legenda">Admiro voc√™ um cadin.</p>
                    </div>

                    <div class="foto-item">
                        <img src="img/Screenshot_20251021-211822.Instagram~2.png" alt="Descri√ß√£o da foto 2">
                        <p class="legenda">Ta Talvez adimire demais heehehe.</p>
                    </div>

                    <div class="foto-item">
                        <img src="img/G+Icorrimao.jpg" alt="Descri√ß√£o da foto 2">
                        <p class="legenda">Nos eternnizei no mirante la em SC.</p>
                    </div>

                    <div class="foto-item">
                        <img src="img/localG+Icahoeira.jpg" alt="Descri√ß√£o da foto 2">
                        <p class="legenda">O local onde eternizei, veja como lembra voc√™, lindo e bello</p>
                    </div>

                    <div class="foto-item">
                        <img src="img/G+Ipedra.jpg" alt="Descri√ß√£o da foto 2">
                        <p class="legenda">Tambem est√° nesse pico de serra...</p>
                    </div>
                </section>

                <br>
                <a href="sumario.html" class="botao-navegacao">
                    ‚Üê Voltar ao Sum√°rio
                </a>

            </div>
        </div>

        <script>
            // Fun√ß√£o de verifica√ß√£o de seguran√ßa
            function verificarSessao() {
                const acesso = localStorage.getItem('acessoConcedido');
                const expiracao = localStorage.getItem('expiracao');
                const horaAtual = new Date().getTime();

                // 1. Verifica se o token existe OU se expirou
                if (acesso !== 'true' || !expiracao || horaAtual >= parseInt(expiracao)) {
                    // Se o token √© inv√°lido ou n√£o existe, redireciona para a tela de login
                    window.location.replace("index.html");
                }
            }

            // Executa a verifica√ß√£o assim que a p√°gina √© carregada
            verificarSessao();
        </script>

        <!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/691284fe8102a1195f148808/1j9o5f1bq';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
</body>

</html>